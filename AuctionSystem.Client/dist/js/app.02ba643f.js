(function(t){function e(e){for(var r,s,i=e[0],u=e[1],c=e[2],l=0,m=[];l<i.length;l++)s=i[l],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);d&&d(e);while(m.length)m.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={app:0},a=[];function s(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"dda9d08e"}[t]+".js"}function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=o[t]=[e,r]}));e.push(n[2]=r);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=s(t);var c=new Error;a=function(e){u.onerror=u.onload=null,clearTimeout(l);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",c.name="ChunkLoadError",c.type=r,c.request=a,n[1](c)}o[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:u})}),12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("9085")},"1a9c":function(t,e,n){},"1d81":function(t,e,n){"use strict";n("7497")},"326f":function(t,e,n){"use strict";var r=n("c28c"),o=n.n(r);e["default"]=o.a},"38e3":function(t,e,n){"use strict";n("aba4")},"3ad1":function(t,e,n){"use strict";n("4a14")},"4a14":function(t,e,n){},"4a39":function(t,e,n){"use strict";var r=n("9e78"),o=n("326f"),a=n("2877"),s=Object(a["a"])(o["default"],r["a"],r["b"],!1,null,null,null);e["default"]=s.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("b-navbar",{attrs:{id:"navbar",type:"light",variant:"light"}},[n("ul",{staticClass:"nav navbar-nav navbar-right"},[n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Home")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/about"}},[t._v("About")])],1),t.loggedIn?n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/Direct"}},[t._v("Chats")])],1):t._e(),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[t._v(t._s(t.loggedIn?"Profile":"Login"))])],1),t.loggedIn?n("li",{staticClass:"nav-item"},[n("LogoutButton")],1):t._e()])])],1),n("router-view"),n("footer",{staticClass:"footer"},[n("div",{staticClass:"content has-text-centered"},[n("p",[t._v(t._s((new Date).getFullYear())+" - "),n("strong",[t._v("Auction System")])])])])],1)},a=[],s=(n("d3b7"),n("25f0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-danger btn-block",on:{click:t.logout}},[t._v(" Log Out ")])}),i=[],u={name:"LogoutButton",methods:{logout:function(){var t=this;this.$store.dispatch("auth/logout").then((function(){localStorage.removeItem("user")}),(function(e){t.loading=!1,t.message=e.response&&e.response.data||e.message||e.toString()}))}}},c=u,l=n("2877"),d=Object(l["a"])(c,s,i,!1,null,null,null),m=d.exports,f={methods:{open:function(){try{var t=localStorage.getItem("user")}catch(e){console.log("Please log in in order to use this functionality")}this.$store.state.signalr.connection.invoke("SendMessage",t,'{ "Username": "some idiot" }',"some message").catch((function(t){return console.error(t.toString())}))}},data:function(){return{chatBoxes:JSON.parse(localStorage.getItem("chatBoxes"))}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},components:{LogoutButton:m}},p=f,h=(n("034f"),Object(l["a"])(p,o,a,!1,null,null,null)),g=h.exports,v=(n("3ca3"),n("ddb0"),n("8c4f")),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("h1",[t._v("Active auctions")]),n("div",{staticClass:"wrapper"},t._l(t.auctions.auctions,(function(t){return n("AuctionLink",{key:t.id,attrs:{id:t.id,title:t.title}})})),1)])},_=[],w=n("1da1"),C=(n("96cf"),n("d4ec")),y=n("bee2"),x=n("bc3a"),k=n.n(x),S="https://localhost:44305/Auction",O=function(){function t(){Object(C["a"])(this,t)}return Object(y["a"])(t,[{key:"getRecentAuctions",value:function(){var t=Object(w["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k()({url:S+"/Recent",method:"GET"}).then((function(t){e=t.data}));case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getById",value:function(){var t=Object(w["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.a.get(S+"/GetById",{params:{id:e}}).then((function(t){n=t.data}));case 2:return t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"placeBid",value:function(t,e){var n=new FormData;n.append("auctionId",t),n.append("amount",e),k.a.post(S+"/Bid",n).then((function(){console.log("toastr?")}))}}]),t}(),$=new O,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a",{attrs:{href:t.link,append:""}},[r("h2",[t._v(t._s(t.title))]),r("img",{attrs:{id:"auctionPic",src:n("ddf8")}})])},I=[],R=(n("9911"),{data:function(){return{link:"",pictureUrl:""}},props:{title:String,id:String},created:function(){this.link=window.location.origin+"/Auction/"+this.id}}),E=R,P=Object(l["a"])(E,j,I,!1,null,null,null),A=P.exports,L={components:{AuctionLink:A},data:function(){return{auctions:[]}},created:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.getRecentAuctions();case 2:t.auctions=e.sent,console.log("test"),console.log(t.auctions);case 5:case"end":return e.stop()}}),e)})))()}},N=L,B=(n("cccb"),Object(l["a"])(N,b,_,!1,null,null,null)),D=B.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("ChatBox",{attrs:{"current-user":t.currentUser,recipient:t.recipient}})],1)},M=[],q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid"},[n("div",{attrs:{id:"wrapper"}},[n("div",{attrs:{id:"menu"}},[n("p",{staticClass:"welcome"},[t._v(t._s(t.recipient)),n("b")]),n("p",{staticClass:"logout"},[n("a",{attrs:{id:"exit",href:"#"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Exit Chat")])])]),t._m(0),n("div",{staticClass:"formInput"},[n("input",{attrs:{name:"usermsg",type:"text",id:"usermsg"}}),n("div",{staticClass:"btn btn-submit",attrs:{name:"submitmsg",type:"submit",id:"submitmsg",value:"Send"},on:{click:function(e){return t.sendMessage()}}},[t._v("Send")])])])])},T=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"chatbox"}},[n("ul",{attrs:{id:"chatBoxMessages"}})])}],F={props:{currentUser:String,recipient:String},data:function(){return{recipients:this.recipient,currentUserCredentials:this.currentUser}},methods:{sendMessage:function(){this.$store.state.signalr.connection.invoke("SendMessage",this.currentUserCredentials,this.recipients,document.getElementById("usermsg").value).catch((function(t){return console.error(t)}))}}},J=F,Y=(n("38e3"),Object(l["a"])(J,q,T,!1,null,"8c1bbe74",null)),H=Y.exports,G={name:"Direct",components:{ChatBox:H},data:function(){return{currentUser:localStorage.getItem("user"),recipient:"Ivan Petrov"}},methods:{getUser:function(){return this.$store.state.auth.user}},mounted:function(){this.$store.state.signalr.connection.invoke("BeginChat",this.currentUser,this.recipient).catch((function(t){return console.error(t)}))}},V=G,z=Object(l["a"])(V,U,M,!1,null,null,null),K=z.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("LoginComponent")],1)},W=[],X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card card-container"},[n("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}}),n("form",{attrs:{name:"form",id:"loginForm"},on:{submit:function(e){return e.preventDefault(),t.handleLogin(e)}}},[n("div",{staticClass:"form-group"},[n("label",[t._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",name:"username",required:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",name:"password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("ReCaptcha",{on:{validate:t.validate}})],1),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:t.loading}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),n("span",[t._v("Login")])])]),n("div",{staticClass:"form-group"},[t.message?n("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.message))]):t._e()])])]),n("p",[t._v("Don't have an account yet? "),n("router-link",{attrs:{to:"/register"}},[t._v("Sign up")])],1)])},Z=[],tt=function t(e,n){Object(C["a"])(this,t),this.username=e,this.password=n},et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VueRecaptcha",{attrs:{sitekey:"6LeRPpYdAAAAAFRfHG2qMUBieUCfypk9LExYJLGc",loadRecaptchaScript:!0},on:{verify:t.validate}})},nt=[],rt=n("e096"),ot={validate:function(t){return new Promise((function(e,n){k.a.post("https://localhost:44305/Recaptcha/validate",t).then((function(t){t.data.hasErrors?n(t.data.message):e(t.data)})).catch((function(t){console.log(t)}))}))}},at={components:{VueRecaptcha:rt["a"]},data:function(){return{sitekey:Object({NODE_ENV:"production",BASE_URL:"/"}).RECAPTCHA_PUBLIC_KEY}},methods:{validate:function(t){var e=this;ot.validate({Response:t}).then((function(t){e.$emit("validate",t.objectResult.success)})).catch((function(t){return console.log(t)}))}}},st=at,it=Object(l["a"])(st,et,nt,!1,null,null,null),ut=it.exports,ct={name:"Login",components:{ReCaptcha:ut},data:function(){return{user:new tt("",""),loading:!1,message:"",validateRecaptcha:!1}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn&&this.$router.push({name:"userProfile",params:{username:this.$store.state.auth.user.username}})},methods:{validate:function(t){this.validateRecaptcha=t},handleLogin:function(){var t=this;this.loading=!0,this.user.username&&this.user.password&&this.$store.dispatch("auth/login",this.user).then((function(){console.log("user logged in successfully. check local storage vor key user"),t.$router.push("/")}),(function(e){t.loading=!1,t.message=e.response&&e.response.data||e.message||e.toString()}))}}},lt=ct,dt=(n("b37a"),Object(l["a"])(lt,X,Z,!1,null,"24b35f3c",null)),mt=dt.exports,ft={components:{LoginComponent:mt}},pt=ft,ht=Object(l["a"])(pt,Q,W,!1,null,null,null),gt=ht.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("RegisterComponent")],1)},bt=[],_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card card-container"},[n("h1",[t._v("Register")]),t.show?n("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[n("b-form-group",{attrs:{id:"input-group-1",label:"Names:","label-for":"input-1"}},[n("b-form-input",{attrs:{id:"input-first-name",type:"text",placeholder:"First name",required:""},model:{value:t.form.firstName,callback:function(e){t.$set(t.form,"firstName",e)},expression:"form.firstName"}}),n("b-form-input",{attrs:{id:"input-second-name",type:"text",placeholder:"Second name",required:""},model:{value:t.form.secondName,callback:function(e){t.$set(t.form,"secondName",e)},expression:"form.secondName"}}),n("b-form-input",{attrs:{id:"input-third-name",type:"text",placeholder:"Third name",required:""},model:{value:t.form.thirdName,callback:function(e){t.$set(t.form,"thirdName",e)},expression:"form.thirdName"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Additional information:","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-address",placeholder:"Address",required:""},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}}),n("b-form-input",{attrs:{id:"input-email",placeholder:"Email",type:"email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),n("b-form-input",{attrs:{id:"input-phone",placeholder:"Phone",type:"tel",required:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Your username:","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-username",placeholder:"Username",required:""},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Your password:","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-password",placeholder:"Password",type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),n("b-button",{staticClass:"button",attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),n("b-button",{staticClass:"button",attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1):t._e()],1),n("p",[t._v("Already have an account? "),n("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)])},wt=[],Ct=(n("e9c4"),n("6c27")),yt=n.n(Ct),xt="https://localhost:44305/Users",kt=function(){function t(){Object(C["a"])(this,t)}return Object(y["a"])(t,[{key:"registerUser",value:function(t){return t.password=yt()(t.password),k.a.post(xt+"/Register",t).then((function(){Qt.push("/Login")}))}},{key:"loginUser",value:function(t){var e={username:t.username,password:yt()(t.password)};return k.a.post(xt+"/Login",e).then((function(t){return t.data.token&&localStorage.setItem("user",JSON.stringify(t.data)),t.data}))}},{key:"logout",value:function(){localStorage.removeItem("user"),Qt.push("/Login")}}]),t}(),St=new kt,Ot={data:function(){return{form:{firstName:"",secondName:"",thirdName:"",address:"",email:"",phone:"",username:"",password:"",roles:""},show:!0}},methods:{onSubmit:function(t){t.preventDefault(),St.registerUser(this.form)},onReset:function(t){var e=this;t.preventDefault(),this.form.firstName="",this.form.secondName="",this.form.thirdName="",this.form.address="",this.form.email="",this.form.phone="",this.form.username="",this.form.password="",this.show=!1,this.$nextTick((function(){e.show=!0}))}}},$t=Ot,jt=(n("660e"),Object(l["a"])($t,_t,wt,!1,null,null,null)),It=jt.exports,Rt={components:{RegisterComponent:It}},Et=Rt,Pt=Object(l["a"])(Et,vt,bt,!1,null,null,null),At=Pt.exports,Lt=n("4a39"),Nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"wrapper"}},[r("h1",[t._v(t._s(t.auction.title))]),r("h2",[r("Countdown",{attrs:{date:t.auction.publishedOn}})],1),r("img",{attrs:{id:"auctionPic",src:n("ddf8")}}),r("p",[t._v(t._s(t.auction.description))]),r("div",{staticClass:"formInput"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{step:"0.01",min:"0",type:"number",id:"usermsg"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),r("div",{staticClass:"btn btn-submit",attrs:{id:"submitmsg",type:"submit",value:"Bid"},on:{click:t.placeBid}},[t._v("Bid")])])])},Bt=[],Dt=(n("a4d3"),n("e01a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"countdown"},[t.days?n("div",{staticClass:"countdown__block"},[n("div",{staticClass:"countdown__digit"},[t._v(t._s(t._f("twoDigits")(t.days)))]),n("div",{staticClass:"countdown__text"},[t._v("Days")])]):t._e(),n("div",{staticClass:"countdown__block"},[n("div",{staticClass:"countdown__digit"},[t._v(t._s(t._f("twoDigits")(t.hours)))]),n("div",{staticClass:"countdown__text"},[t._v("Hrs")])]),n("div",{staticClass:"countdown__block"},[n("div",{staticClass:"countdown__digit"},[t._v(t._s(t._f("twoDigits")(t.minutes)))]),n("div",{staticClass:"countdown__text"},[t._v("Min")])]),n("div",{staticClass:"countdown__block"},[n("div",{staticClass:"countdown__digit"},[t._v(t._s(t._f("twoDigits")(t.seconds)))]),n("div",{staticClass:"countdown__text"},[t._v("Sec")])])])}),Ut=[],Mt=(n("b65f"),{props:{date:null},data:function(){return{now:Math.trunc((new Date).getTime()/1e3),event:this.date,finish:!1}},mounted:function(){var t=this;console.log("countdown "+this.date);var e=this;window.setInterval((function(){t.now=Math.trunc((new Date).getTime()/1e3),!t.finish&&t.calculatedDate-t.now<=0&&(e.finish=!0,e.$emit("onFinish"))}),1e3)},computed:{secondCount:function(){return this.calculatedDate-this.now},calculatedDate:function(){return Math.trunc(Date.parse(this.event)/1e3)},seconds:function(){return this.secondCount<0?0:this.secondCount%60},minutes:function(){return this.secondCount<0?0:Math.trunc(this.secondCount/60)%60},hours:function(){return this.secondCount<0?0:Math.trunc(this.secondCount/60/60)%24},days:function(){return this.secondCount<0?0:Math.trunc(this.secondCount/60/60/24)}},filters:{twoDigits:function(t){return t.toString().length<=1?"0"+t.toString():t.toString()}}}),qt=Mt,Tt=(n("1d81"),Object(l["a"])(qt,Dt,Ut,!1,null,null,null)),Ft=Tt.exports,Jt=function t(e,n,r,o){Object(C["a"])(this,t),this.id=e,this.title=n,this.description=r,this.publishedOn=o},Yt={components:{Countdown:Ft},data:function(){return{auction:null,amount:0}},created:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.getById(t.$route.params.id);case 2:n=e.sent,t.auction=new Jt(n.auction.id,n.auction.title,n.auction.description,n.auction.publishedOn);case 4:case"end":return e.stop()}}),e)})))()},methods:{placeBid:function(){console.log(this.amount),$.placeBid(this.auction.id,this.amount)}}},Ht=Yt,Gt=(n("3ad1"),Object(l["a"])(Ht,Nt,Bt,!1,null,null,null)),Vt=Gt.exports;r["default"].use(v["a"]);var zt=[{path:"/",name:"Home",component:D},{path:"/Direct",name:"Direct",component:K},{path:"/About",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/Login",name:"Login",component:gt},{path:"/Register",name:"Register",component:At},{path:"/userProfile/:username",name:"userProfile",component:Lt["default"]},{path:"/Auction/:id",name:"Action",component:Vt}],Kt=new v["a"]({mode:"history",routes:zt});Kt.beforeEach((function(t,e,n){t.meta.requiresAuth?window.localStorage.getItem("user")?n():n({name:"login"}):n()}));var Qt=Kt,Wt=n("2f62"),Xt=JSON.parse(localStorage.getItem("user")),Zt=Xt?{status:{loggedIn:!0},user:Xt}:{status:{loggedIn:!1}},te={namespaced:!0,state:Zt,actions:{login:function(t,e){var n=t.commit;return St.loginUser(e).then((function(t){return n("loginSuccess",t),Promise.resolve(t)}),(function(t){return n("loginFailure"),Promise.reject(t)}))},logout:function(t){var e=t.commit;St.logout(Xt),e("logout")},register:function(t,e){var n=t.commit;return St.registerUser(e).then((function(t){return n("registerSuccess"),Promise.resolve(t.data)}),(function(t){return n("registerFailure"),Promise.reject(t)}))}},mutations:{loginSuccess:function(t,e){t.status.loggedIn=!0,t.user=e},loginFailure:function(t){t.status.loggedIn=!1,t.user=null},registerSuccess:function(t){t.status.loggedIn=!1},registerFailure:function(t){t.status.loggedIn=!1},logout:function(t){t.status.loggedIn=!1,t.user=null}}},ee=(n("99af"),n("1a9a")),ne=(new ee["a"]).withUrl("https://localhost:44305/chat").configureLogging(ee["b"].Information).build();ne.on("ReceiveMessage",(function(t,e,n){console.log(n);var r=document.createElement("li");r.textContent="".concat(t,": ").concat(n),document.getElementById("chatBoxMessages").appendChild(r)}));var re={namespaced:!0,state:{connection:ne}};ne.start(),r["default"].use(Wt["a"]);var oe=new Wt["a"].Store({state:{},mutations:{},actions:{},modules:{auth:te,signalr:re}}),ae=n("5f5b"),se=n("b1e0"),ie=(n("f9e3"),n("2dd8"),n("f9bc"));r["default"].use(ie["a"]),x["interceptors"].request.use((function(t){var e,n=localStorage.getItem("user");return e=null==n?"some-falsy-key":JSON.parse(n).token,t.headers.Authorization=e,t})),r["default"].prototype.$axios=x,r["default"].use(ae["a"]).use(se["a"]),r["default"].config.productionTip=!1,new r["default"]({router:Qt,store:oe,axios:x,render:function(t){return t(g)}}).$mount("#app")},"660e":function(t,e,n){"use strict";n("a453")},7497:function(t,e,n){},9085:function(t,e,n){},"9e78":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1")},o=[]},a453:function(t,e,n){},aba4:function(t,e,n){},b37a:function(t,e,n){"use strict";n("e547")},c28c:function(t,e){},cccb:function(t,e,n){"use strict";n("1a9c")},ddf8:function(t,e,n){t.exports=n.p+"img/auction.97173a86.jpg"},e547:function(t,e,n){}});
//# sourceMappingURL=app.02ba643f.js.map