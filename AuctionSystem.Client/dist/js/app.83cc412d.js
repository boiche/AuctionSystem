(function(t){function e(e){for(var r,o,i=e[0],u=e[1],c=e[2],l=0,m=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);d&&d(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},s=[];function o(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"daaa7f15"}[t]+".js"}function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=a[t]=[e,r]}));e.push(n[2]=r);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=o(t);var c=new Error;s=function(e){u.onerror=u.onload=null,clearTimeout(l);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",c.name="ChunkLoadError",c.type=r,c.request=s,n[1](c)}a[t]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:u})}),12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var d=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"171a":function(t,e,n){t.exports=n.p+"img/auction.97173a86.jpg"},3198:function(t,e,n){},"326f":function(t,e,n){"use strict";var r=n("c28c"),a=n.n(r);e["default"]=a.a},3661:function(t,e,n){},"38e3":function(t,e,n){"use strict";n("b6cd")},"3ad1":function(t,e,n){"use strict";n("7b45")},4061:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("h1",[t._v("Active auctions")]),r("router-link",{attrs:{to:"/Auction"}},t._l(9,(function(e){return r("div",{key:e,staticClass:"wrapper"},[r("h2",[t._v("Auction.Title")]),r("img",{attrs:{id:"auctionPic",src:n("171a")}})])})),0)],1)},a=[]},"4a39":function(t,e,n){"use strict";var r=n("9e78"),a=n("326f"),s=n("2877"),o=Object(s["a"])(a["default"],r["a"],r["b"],!1,null,null,null);e["default"]=o.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("b-navbar",{attrs:{id:"navbar",type:"light",variant:"light"}},[n("ul",{staticClass:"nav navbar-nav navbar-right"},[n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Home")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/about"}},[t._v("About")])],1),t.loggedIn?n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/Direct"}},[t._v("Chats")])],1):t._e(),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[t._v(t._s(t.loggedIn?"Profile":"Login"))])],1),t.loggedIn?n("li",{staticClass:"nav-item"},[n("LogoutButton")],1):t._e()])])],1),n("router-view"),n("footer",{staticClass:"footer"},[n("div",{staticClass:"content has-text-centered"},[n("p",[t._v(t._s((new Date).getFullYear())+" - "),n("strong",[t._v("Auction System")])])])])],1)},s=[],o=(n("d3b7"),n("25f0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-danger btn-block",on:{click:t.logout}},[t._v(" Log Out ")])}),i=[],u={name:"LogoutButton",methods:{logout:function(){var t=this;this.$store.dispatch("auth/logout").then((function(){localStorage.removeItem("user")}),(function(e){t.loading=!1,t.message=e.response&&e.response.data||e.message||e.toString()}))}}},c=u,l=n("2877"),d=Object(l["a"])(c,o,i,!1,null,null,null),m=d.exports,f={methods:{open:function(){try{var t=localStorage.getItem("user")}catch(e){console.log("Please log in in order to use this functionality")}this.$store.state.signalr.connection.invoke("SendMessage",t,'{ "Username": "some idiot" }',"some message").catch((function(t){return console.error(t.toString())}))}},data:function(){return{chatBoxes:JSON.parse(localStorage.getItem("chatBoxes"))}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},components:{LogoutButton:m}},p=f,g=(n("034f"),Object(l["a"])(p,a,s,!1,null,null,null)),h=g.exports,v=(n("3ca3"),n("ddb0"),n("8c4f")),b=n("bb51"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("ChatBox",{attrs:{"current-user":t.currentUser,recipient:t.recipient}})],1)},w=[],C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid"},[n("div",{attrs:{id:"wrapper"}},[n("div",{attrs:{id:"menu"}},[n("p",{staticClass:"welcome"},[t._v(t._s(t.recipient)),n("b")]),n("p",{staticClass:"logout"},[n("a",{attrs:{id:"exit",href:"#"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Exit Chat")])])]),t._m(0),n("div",{staticClass:"formInput"},[n("input",{attrs:{name:"usermsg",type:"text",id:"usermsg"}}),n("div",{staticClass:"btn btn-submit",attrs:{name:"submitmsg",type:"submit",id:"submitmsg",value:"Send"},on:{click:function(e){return t.sendMessage()}}},[t._v("Send")])])])])},y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"chatbox"}},[n("ul",{attrs:{id:"chatBoxMessages"}})])}],x={props:{currentUser:String,recipient:String},data:function(){return{recipients:this.recipient,currentUserCredentials:this.currentUser}},methods:{sendMessage:function(){this.$store.state.signalr.connection.invoke("SendMessage",this.currentUserCredentials,this.recipients,document.getElementById("usermsg").value).catch((function(t){return console.error(t)}))}}},k=x,$=(n("38e3"),Object(l["a"])(k,C,y,!1,null,"8c1bbe74",null)),S=$.exports,O={name:"Direct",components:{ChatBox:S},data:function(){return{currentUser:localStorage.getItem("user"),recipient:"Ivan Petrov"}},methods:{getUser:function(){return this.$store.state.auth.user}},mounted:function(){this.$store.state.signalr.connection.invoke("BeginChat",this.currentUser,this.recipient).catch((function(t){return console.error(t)}))}},j=O,E=Object(l["a"])(j,_,w,!1,null,null,null),I=E.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("LoginComponent")],1)},L=[],A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card card-container"},[n("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}}),n("form",{attrs:{name:"form",id:"loginForm"},on:{submit:function(e){return e.preventDefault(),t.handleLogin(e)}}},[n("div",{staticClass:"form-group"},[n("label",[t._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",name:"username",required:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",name:"password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("ReCaptcha",{on:{validate:t.validate}})],1),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:t.loading}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),n("span",[t._v("Login")])])]),n("div",{staticClass:"form-group"},[t.message?n("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.message))]):t._e()])])]),n("p",[t._v("Don't have an account yet? "),n("router-link",{attrs:{to:"/register"}},[t._v("Sign up")])],1)])},N=[],R=n("d4ec"),U=function t(e,n){Object(R["a"])(this,t),this.username=e,this.password=n},B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VueRecaptcha",{attrs:{sitekey:"6LeRPpYdAAAAAFRfHG2qMUBieUCfypk9LExYJLGc",loadRecaptchaScript:!0},on:{verify:t.validate}})},q=[],M=n("e096"),D=n("bc3a"),T=n.n(D),F={validate:function(t){return new Promise((function(e,n){T.a.post("https://localhost:44305/Recaptcha/validate",t).then((function(t){t.data.hasErrors?n(t.data.message):e(t.data)})).catch((function(t){console.log(t)}))}))}},J={components:{VueRecaptcha:M["a"]},data:function(){return{sitekey:Object({NODE_ENV:"production",BASE_URL:"/"}).RECAPTCHA_PUBLIC_KEY}},methods:{validate:function(t){var e=this;F.validate({Response:t}).then((function(t){e.$emit("validate",t.objectResult.success)})).catch((function(t){return console.log(t)}))}}},Y=J,H=Object(l["a"])(Y,B,q,!1,null,null,null),V=H.exports,G={name:"Login",components:{ReCaptcha:V},data:function(){return{user:new U("",""),loading:!1,message:"",validateRecaptcha:!1}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn&&this.$router.push({name:"userProfile",params:{username:this.$store.state.auth.user.username}})},methods:{validate:function(t){this.validateRecaptcha=t},handleLogin:function(){var t=this;this.loading=!0,this.user.username&&this.user.password&&this.$store.dispatch("auth/login",this.user).then((function(){console.log("user logged in successfully. check local storage vor key user"),t.$router.push("/")}),(function(e){t.loading=!1,t.message=e.response&&e.response.data||e.message||e.toString()}))}}},K=G,z=(n("b37a"),Object(l["a"])(K,A,N,!1,null,"24b35f3c",null)),Q=z.exports,W={components:{LoginComponent:Q}},X=W,Z=Object(l["a"])(X,P,L,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("RegisterComponent")],1)},nt=[],rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card card-container"},[n("h1",[t._v("Register")]),t.show?n("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[n("b-form-group",{attrs:{id:"input-group-1",label:"Names:","label-for":"input-1"}},[n("b-form-input",{attrs:{id:"input-first-name",type:"text",placeholder:"First name",required:""},model:{value:t.form.firstName,callback:function(e){t.$set(t.form,"firstName",e)},expression:"form.firstName"}}),n("b-form-input",{attrs:{id:"input-second-name",type:"text",placeholder:"Second name",required:""},model:{value:t.form.secondName,callback:function(e){t.$set(t.form,"secondName",e)},expression:"form.secondName"}}),n("b-form-input",{attrs:{id:"input-third-name",type:"text",placeholder:"Third name",required:""},model:{value:t.form.thirdName,callback:function(e){t.$set(t.form,"thirdName",e)},expression:"form.thirdName"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Additional information:","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-address",placeholder:"Address",required:""},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}}),n("b-form-input",{attrs:{id:"input-email",placeholder:"Email",type:"email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),n("b-form-input",{attrs:{id:"input-phone",placeholder:"Phone",type:"tel",required:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Your username:","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-username",placeholder:"Username",required:""},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Your password:","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-password",placeholder:"Password",type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),n("b-button",{staticClass:"button",attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),n("b-button",{staticClass:"button",attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1):t._e()],1),n("p",[t._v("Already have an account? "),n("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)])},at=[],st=n("bee2"),ot=(n("e9c4"),n("6c27")),it=n.n(ot),ut="https://localhost:44305/Users",ct=function(){function t(){Object(R["a"])(this,t)}return Object(st["a"])(t,[{key:"registerUser",value:function(t){return t.password=it()(t.password),T.a.post(ut+"/Register",t).then((function(){It.push("/Login")}))}},{key:"loginUser",value:function(t){var e={username:t.username,password:it()(t.password)};return T.a.post(ut+"/Login",e).then((function(t){return t.data.token&&localStorage.setItem("user",JSON.stringify(t.data)),t.data}))}},{key:"logout",value:function(){localStorage.removeItem("user"),It.push("/Login")}}]),t}(),lt=new ct,dt={data:function(){return{form:{firstName:"",secondName:"",thirdName:"",address:"",email:"",phone:"",username:"",password:"",roles:""},show:!0}},methods:{onSubmit:function(t){t.preventDefault(),lt.registerUser(this.form)},onReset:function(t){var e=this;t.preventDefault(),this.form.firstName="",this.form.secondName="",this.form.thirdName="",this.form.address="",this.form.email="",this.form.phone="",this.form.username="",this.form.password="",this.show=!1,this.$nextTick((function(){e.show=!0}))}}},mt=dt,ft=(n("660e"),Object(l["a"])(mt,rt,at,!1,null,null,null)),pt=ft.exports,gt={components:{RegisterComponent:pt}},ht=gt,vt=Object(l["a"])(ht,et,nt,!1,null,null,null),bt=vt.exports,_t=n("4a39"),wt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"wrapper"}},[r("h1",[t._v("Auction.Title")]),r("h2",[r("Countdown",{attrs:{end:"12 25, 2021"}})],1),r("img",{attrs:{id:"auctionPic",src:n("171a")}}),r("p",[t._v("Auction.Description")]),t._m(0)])},Ct=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"formInput"},[n("input",{attrs:{type:"number",id:"usermsg"}}),n("div",{staticClass:"btn btn-submit",attrs:{id:"submitmsg",type:"submit",value:"Bid"}},[t._v("Bid")])])}],yt=n("3f54"),xt=n.n(yt),kt={components:{Countdown:xt.a}},$t=kt,St=(n("3ad1"),Object(l["a"])($t,wt,Ct,!1,null,null,null)),Ot=St.exports;r["default"].use(v["a"]);var jt=[{path:"/",name:"Home",component:b["default"]},{path:"/Direct",name:"Direct",component:I},{path:"/About",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/Login",name:"Login",component:tt},{path:"/Register",name:"Register",component:bt},{path:"/userProfile/:username",name:"userProfile",component:_t["default"]},{path:"/Auction",name:"Action",component:Ot}],Et=new v["a"]({mode:"history",routes:jt});Et.beforeEach((function(t,e,n){t.meta.requiresAuth?window.localStorage.getItem("user")?n():n({name:"login"}):n()}));var It=Et,Pt=n("2f62"),Lt=JSON.parse(localStorage.getItem("user")),At=Lt?{status:{loggedIn:!0},user:Lt}:{status:{loggedIn:!1}},Nt={namespaced:!0,state:At,actions:{login:function(t,e){var n=t.commit;return lt.loginUser(e).then((function(t){return n("loginSuccess",t),Promise.resolve(t)}),(function(t){return n("loginFailure"),Promise.reject(t)}))},logout:function(t){var e=t.commit;lt.logout(Lt),e("logout")},register:function(t,e){var n=t.commit;return lt.registerUser(e).then((function(t){return n("registerSuccess"),Promise.resolve(t.data)}),(function(t){return n("registerFailure"),Promise.reject(t)}))}},mutations:{loginSuccess:function(t,e){t.status.loggedIn=!0,t.user=e},loginFailure:function(t){t.status.loggedIn=!1,t.user=null},registerSuccess:function(t){t.status.loggedIn=!1},registerFailure:function(t){t.status.loggedIn=!1},logout:function(t){t.status.loggedIn=!1,t.user=null}}},Rt=(n("99af"),n("1a9a")),Ut=(new Rt["a"]).withUrl("https://localhost:44305/chat").configureLogging(Rt["b"].Information).build();Ut.on("ReceiveMessage",(function(t,e,n){console.log(n);var r=document.createElement("li");r.textContent="".concat(t,": ").concat(n),document.getElementById("chatBoxMessages").appendChild(r)}));var Bt={namespaced:!0,state:{connection:Ut}};Ut.start(),r["default"].use(Pt["a"]);var qt=new Pt["a"].Store({state:{},mutations:{},actions:{},modules:{auth:Nt,signalr:Bt}}),Mt=n("5f5b"),Dt=n("b1e0"),Tt=(n("f9e3"),n("2dd8"),n("f9bc"));r["default"].use(Tt["a"]),r["default"].prototype.$axios=D,r["default"].use(Mt["a"]).use(Dt["a"]),r["default"].config.productionTip=!1,new r["default"]({router:It,store:qt,axios:D,render:function(t){return t(h)}}).$mount("#app")},"5ced":function(t,e,n){},"660e":function(t,e,n){"use strict";n("3198")},"7ad4":function(t,e,n){"use strict";var r=n("9cae"),a=n.n(r);e["default"]=a.a},"7b45":function(t,e,n){},"85ec":function(t,e,n){},"9cae":function(t,e){},"9e78":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1")},a=[]},b37a:function(t,e,n){"use strict";n("3661")},b6cd:function(t,e,n){},bb51:function(t,e,n){"use strict";var r=n("4061"),a=n("7ad4"),s=(n("cccb"),n("2877")),o=Object(s["a"])(a["default"],r["a"],r["b"],!1,null,null,null);e["default"]=o.exports},c28c:function(t,e){},cccb:function(t,e,n){"use strict";n("5ced")}});
//# sourceMappingURL=app.83cc412d.js.map